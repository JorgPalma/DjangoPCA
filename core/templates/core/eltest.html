<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados de la búsqueda de libros</title>
</head>
<body onload="realizarBusqueda()">
    <h1>Buscar libros</h1>
    <label for="busqueda">Ingrese el título del libro:</label>
    <input type="hidden" id="busqueda" value="Gato">
    

    <h2>Resultados de la búsqueda de libros</h2>
    <div id="blogContainer"></div>

    <script>
        // Función para realizar la búsqueda de libros
        
        function buscarLibros(query, maxResultados = 3) {
            const apiUrl = `https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(query)}&maxResults=${maxResultados}`;

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => mostrarResultados(data.items))
                .catch(error => console.error('Error al obtener datos:', error));
        }

        // Función para mostrar los resultados en la página
        function mostrarResultados(libros) {
            const resultadosDiv = document.getElementById('blogContainer');

            // Limpiar resultados anteriores
            resultadosDiv.innerHTML = '';

            if (libros && libros.length > 0) {
                const listaLibros = document.createElement('ul');

                libros.forEach(libro => {
                    const itemLibro = document.createElement('li');
                    const titulo = document.createElement('h3');
                    const portada = document.createElement('img');
                    const descripcion = document.createElement('p');

                    titulo.textContent = libro.volumeInfo.title;
                    portada.src = libro.volumeInfo.imageLinks.thumbnail;
                    portada.alt = 'Portada del libro';
                    descripcion.textContent = libro.volumeInfo.description || 'Sin descripción disponible.';

                    itemLibro.appendChild(titulo);
                    itemLibro.appendChild(portada);
                    itemLibro.appendChild(descripcion);

                    listaLibros.appendChild(itemLibro);
                });

                resultadosDiv.appendChild(listaLibros);
            } else {
                resultadosDiv.innerHTML = '<p>No se encontraron resultados.</p>';
            }
        }

        // Función para realizar la búsqueda al hacer clic en el botón
        function realizarBusqueda() {
            const inputBusqueda = document.getElementById('busqueda');
            const query = inputBusqueda.value.trim();

            if (query !== '') {
                buscarLibros(query);
            } else {
                alert('Ingrese un término de búsqueda válido.');
            }
        }
    </script>
</body>
</html>
